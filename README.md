# Fuzzy-Infinite-step-Opacity-Measure-of-Discrete-event-Systems

The project provides an illustrative application of Fuzzy Infinite-step Opacity (FIO) Measure in estamating private protection mechanisms (PPMs) in location-based services (LBSs). The model-learning algorithm is out of the scope of this project, thus, the model, a fuzzy automaton, is provided directly.

We consider a certain LBS in a certain region where contain five semantic locations. That is, cinema, dorm, library, gym and hospital. 
Assume the fuzzy automaton model for this LBS in this region has been learned by the modle-learning algorithm. 
Specifically, the model is characterized by  $G = (X, \widetilde(X), \Sigma, \{ A_{\sigma} \}_{\sigma \in \Sigma}, \tilde{x}_{0}  )$.
Here the $X = \{ x_{1}, x_{2}, x_{3}, x_{4}, x_{5}\}$ is the set of crisp states, where $x_{1}$, $x_{2}$, $x_{3}$, $x_{4}$ and $x_{5}$ 
denote the semantic locations of cinema, dorm, library, gym and hospital, respectively. $\widetilde(X)$ is the set of fuzzy states over 
the set of crisp states. A fuzzy state is represented as a row vector.

Suppose the set of cloaking regions obtained by the intruder is $\mathcal{CR} = \big \{ CR_{1} = \{ x_{1}, x_{2}, x_{3} \}, CR_{2} = \{ x_{3}, x_{4}, x_{5}\}  \big \}$.
Let the events $\widetilde{cr}^{i}_{j}$, $i,j \in \{1, 2\}$, represent the case that the user moves from the $i^{th}$ cloaking region to the $j^{th}$ cloaking region.
Assume by the model learning algorithm, the intruder obtain the event matrices $A_{\widetilde{cr}^{1}_{1}}$, $A_{\widetilde{cr}^{1}_{2}}$, $A_{\widetilde{cr}^{2}_{1}}$ and $A_{\widetilde{cr}^{2}_{2}}$, respectively,

 $$
 \left[
 
  \begin{array}{cccccc}
  
    0.4 & 1   &  1   & 0 & 0                   \\
    
    0.6 & 1   &  0.8 & 0 & 0                   \\
    
    1   & 0.8 &  0.6 & 0 & 0                   \\
    
    0   & 0   &  0   & 0 & 0                   \\
    
    0   & 0   &  0   & 0 & 0                   \\
    
  \end{array}
  
\right], ~~

   \left[
   
  \begin{array}{cccccc}
  
    0           & 0           & 0            & 0           & 0         \\
    
    0           & 0           & 0.4          & 1           & 0         \\
    
    0           & 0           & 1            & 0.6         & 1         \\
    
    0           & 0           & 0            & 0           & 0         \\
    
    0           & 0           & 0            & 0           & 0         \\
  \end{array}
  
\right],
$$

 $$
 
 \left[
 
  \begin{array}{cccccc}
  
    0           & 0           & 0       & 0   & 0                    \\
    
    0           & 0           & 0       & 0   & 0                    \\
    
    0           & 0.2         & 0.2     & 0   & 0                    \\
    
    0           & 1           & 0.8     & 0   & 0                    \\
    
    0           & 0           & 1       & 0   & 0                    \\
  \end{array}
  
\right] 

\text{and}

   \left[
   
  \begin{array}{cccccc}
  
    0           & 0           & 0   & 0     & 0             \\
    
    0           & 0           & 0   & 0     & 0             \\
    
    0           & 0           &0.6  & 0.4   & 1             \\
    
    0           & 0           &0.8  & 1     & 0             \\
    
    0           & 0           &1    & 0     & 0.6           \\
  \end{array}
  
\right],

$$

and the initial state $\widetilde{x}_{0} = [0.8, 1.0, 0.6,0.2, 0.1]$.

The FIO Measure is defined to characterize the privacy protection situation of PPMs. This project is used to calculate the FIO Measure of the model $G$
The states set of $G_{c}$ and $G_{c}^{obs}$ contain the following 65 states.

[0.8 0.0 0.0 0.0 0.0] [0.0 1.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.0 0.0] [0.0 0.0 0.0 0.2 0.0] [0.0 0.0 0.0 0.0 0.1] 

[0.4 0.8 0.8 0.0 0.0] [0.6 1.0 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.4 1.0 0.0] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.0 0.1 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.2 0.2 0.0] [0.0 0.0 0.1 0.0 0.1] 

[0.8 0.8 0.8 0.0 0.0] [0.8 1.0 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.8 0.8 0.8] [0.0 0.0 0.8 1.0 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.2 0.2 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.6 0.4 0.8] [0.0 0.0 0.6 0.4 0.8] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.4 0.4 0.4 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.4 0.4 0.4] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 1.0 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 1.0 0.4] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.1 0.1 0.1 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.1 0.1 0.1] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.1 0.1 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.1 0.1 0.1 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.1 0.1 0.1] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.1 0.1 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.1 0.1 0.1] 

[0.8 0.8 0.6 0.0 0.0] [0.8 0.8 0.6 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.8 0.6 0.8] [0.0 0.0 0.8 0.6 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.8 0.8 0.0 0.0] [0.0 1.0 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.2 0.2 0.2 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.6 0.6 0.6 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0]

[0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.4 0.8 0.0 0.0] [0.0 0.4 0.8 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.8 0.4 0.6] [0.0 0.0 0.8 0.4 0.6] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.4 0.4 0.4] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.4 0.4 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.8 1.0 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 1.0 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.4 0.8] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.8 0.8 0.6 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 0.6 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.2 0.2 0.0 0.0] [0.0 0.1 0.1 0.0 0.0] 

[0.6 0.8 0.8 0.0 0.0] [0.6 0.8 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.6 0.8 0.6] [0.0 0.0 0.6 0.8 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.6 0.8 0.0 0.0] [0.0 0.6 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.6 0.6 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.4 0.6 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.2 0.2 0.2 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.2 0.2 0.2] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.4 0.4 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.4 0.8 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 0.4 0.6] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.6 0.8 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.8 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.6 0.4 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.6 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.8 0.8 0.8 0.0 0.0] [0.8 0.8 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.8 0.8 0.8] [0.0 0.0 0.8 0.8 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.8 0.8 0.0 0.0] [0.0 0.8 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.8 0.8 0.6] [0.0 0.0 0.8 0.8 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.4 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.8 0.8 0.8 0.0 0.0] [0.6 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 0.8 0.8] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.8 0.8 0.0 0.0] [0.0 0.6 0.6 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0] 

[0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.8 0.8 0.6] [0.0 0.0 0.6 0.6 0.6] [0.0 0.0 0.0 0.0 0.0] [0.0 0.0 0.0 0.0 0.0]


For each of the above state, we obtain the states set of $Ac(G,  x^{[\omega]} )$, which contain 24,25,3,8,23,23,3,20,8,8,23,24,3,3,3,8,8,8,8,20,20,23,3,3,8,8,20,20,3,8,8,23,23,20,20,20,8,20,
20,8,20,8,8,3,3,8,8,8,20,20,20,20,8,20,20,20,20,20,8,8,20,20,20, and 20 states.

Thus, this application handles 916 state-pairs totally, which is not so large scale as the best situation in theory.



